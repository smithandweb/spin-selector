"use strict";!function(a){a.fn.spinSelector=function(b,c){function d(a,b){return new Date(b,a,0).getDate()}function e(b,c){var d;return d=a('<div class="selector"/>'),d.append('<div class="label">'+b+"</div>"),d.append('<div class="spin-up">+</div>'),d.append('<div class="value-container"><div class="value-scroller"></div></div>'),d.append('<div class="spin-down">-</div>'),c&&d.data(c),d}function f(a,b){if(console.log("setActive",a,b,a.find("[data-value="+b+"]")),!(a.find("[data-value="+b+"]").length<=0)){var c,d,e=a.find(".value-scroller");a.find(".active").toggleClass("active"),c=a.find("[data-value="+b+"]"),c.toggleClass("active"),d=a.find("[data-value="+b+"]").position().top,e.css("top","-"+d+"px")}}function g(){var b,c,g,h,i,j,o=[],p=[];for(c=e("Year"),m=0;m<=n.endYear-n.startYear;m++)o.push(n.startYear+m);for(m=0;m<o.length;m++)b=a('<div class="spin-value">'+o[m]+"</div>").attr("data-value",o[m]),c.find(".value-scroller").append(b);for(c.data("type","year"),k.append(c),f(c,(new Date).getFullYear()),g=e("Month"),m=0;m<l.length;m++)h=a('<div class="spin-value">'+l[m]+"</div>").attr("data-value",m+1),g.find(".value-scroller").append(h);for(g.data("type","month"),k.append(g),f(g,(new Date).getMonth()+1),i=e("Day"),p=d(g.find(".spin-value.active").attr("data-value"),c.find(".spin-value.active").attr("data-value")),m=0;p>m;m++)j=a('<div class="spin-value">'+(m+1)+"</div>").attr("data-value",m+1),i.find(".value-scroller").append(j);i.data("type","day"),k.append(i),f(i,(new Date).getDate()),k.data({isDate:!0,$year:c,$month:g,$day:i})}function h(){var b=[];return a(".spin-value.active").each(function(){b.push(a(this).attr("data-value"))}),b}function i(b){var c,d,e,g,h=b.type,i=a(b.target);i.hasClass("selector")||(i=i.closest(".selector")),c=i.find(".spin-value").length-1,d=i.find(".spin-value.active").index(),"swipeup"===h?e=d===c?0:d+1:"swipedown"===h&&(e=0===d?c:d-1),g=i.find(".spin-value").eq(e).attr("data-value"),f(i,g)}function j(){var b=document.getElementsByClassName("selector");for(m=b.length-1;m>=0;m--){var c=a(b[m]),d=new window.Hammer(b[m]);c.data("hammer",d),d.get("swipe").set({direction:window.Hammer.DIRECTION_ALL,threshold:0,velocity:.1}),d.on("swipeup swipedown",function(a){i(a)})}}var k,l,m,n=a.extend({selectors:3,theme:"light",startYear:(new Date).getFullYear()-5,currentYear:(new Date).getFullYear(),endYear:(new Date).getFullYear()+5,inputs:null},b),o=a(this);return window.spinSelector=o,k=a('<div class="spin-selector-container theme-'+n.theme+'"/>'),o.append(k),l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n.inputs||g(n),k.on("updated",".selector",function(){var b,e,g,i,j=h(),l=k.data();if(l.isDate&&"day"!==a(this).data("type")){for(g=l.$day.find(".spin-value.active").index(),l.$day.find(".value-scroller").empty(),e=d(l.$month.find(".spin-value.active").attr("data-value"),l.$year.find(".spin-value.active").attr("data-value")),m=0;e>m;m++)b=a('<div class="spin-value">'+(m+1)+"</div>").attr("data-value",m+1),l.$day.find(".value-scroller").append(b);i=g>=e?e-1:g,f(l.$day,l.$day.find(".spin-value").eq(i).attr("data-value"))}c&&c(j)}),k.on("click",".spin-up, .spin-down",function(){var b,c,d,e,g=a(this),h=g.parent(".selector").find(".spin-value").length-1;b=g.parent(".selector").find(".spin-value.active").index(),g.hasClass("spin-up")?c=b===h?0:b+1:g.hasClass("spin-down")&&(c=0===b?h:b-1),d=g.parent(".selector"),e=g.parent(".selector").find(".spin-value").eq(c).attr("data-value"),f(d,e),g.parent(".selector").trigger("updated")}),window.Hammer&&j(),this}}(jQuery);
//# sourceMappingURL=spin-selector.min.js.map